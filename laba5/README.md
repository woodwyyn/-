## **ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ**

ะญัะพั ะฟัะพะตะบั ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ะผัะปััะธ-ะผะพะดัะปัะฝัะน ะผะพะฝะพัะตะฟะพะทะธัะพัะธะน, ะฒ ะบะพัะพัะพะผ ัะพะฑัะฐะฝั ัะตัะฒะธัั, ะธัะฟะพะปัะทัะตะผัะต ะฒ ะปะฐะฑะพัะฐัะพัะฝัั ัะฐะฑะพัะฐั.

ะะพะดัะปั `user-service` ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน **REST API** ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ. 
ะะตะฐะปะธะทะพะฒะฐะฝั **CRUD ะพะฟะตัะฐัะธะธ** (ัะพะทะดะฐะฝะธะต, ััะตะฝะธะต, ะพะฑะฝะพะฒะปะตะฝะธะต, ัะดะฐะปะตะฝะธะต).

ะะพะดัะปั `notification-service` ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน ัะตัะฒะธั, ัะฟัะฐะฒะปัััะธะน ะฝะพัะธัะธะบะฐัะธัะผะธ. 
ะ ะดะฐะฝะฝัะน ะผะพะผะตะฝั ะฝะธะบะฐะบ ะฝะต ัะฒัะทะฐะฝ ั ะดััะณะธะผะธ ะบะพะผะฟะพะฝะตะฝัะฐะผะธ ัะธััะตะผั.

ะะพะดัะปั `shared-contracts` ัะพะดะตัะถะธั ะฒ ัะตะฑะต ะบะพะฝััะฐะบัั, ะพะฑัะธะต ะดะปั ะบะพะผะฟะพะฝะตะฝัะพะฒ ัะธััะตะผั.

---

## **ะขะตัะฝะพะปะพะณะธะธ**

| ะขะตัะฝะพะปะพะณะธั      | ะัะฟะพะปัะทะพะฒะฐะฝะธะต |
|----------------|--------------|
| **Spring Boot** | ะะฐะทัะฐะฑะพัะบะฐ REST API |
| **Spring Data JPA** | ะะฐะฑะพัะฐ ั ะะ |
| **PostgreSQL** | ะฅัะฐะฝะตะฝะธะต ะดะฐะฝะฝัั |
| **Flyway** | ะะธะณัะฐัะธะธ ะะ |
| **MapStruct** | ะะฐะฟะฟะธะฝะณ Entity โ DTO |
| **Spring Validation** | ะะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั |
| **OpenAPI (Swagger UI)** | ะะพะบัะผะตะฝัะธัะพะฒะฐะฝะธะต API |

---

## **ะะฐะฟััะบ ัะตัะตะท Docker Compose**

**ะจะฐะณะธ:**

1. **ะกะบะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน**
   ```bash
   git clone https://gitflic.ru/project/constromanov/arhitekturirovanie-lr.git
   cd arhitekturirovanie-lr
   ```

2. **ะกะพะฑะตัะธัะต ะธััะพะดะฝะธะบะธ ัะตัะฒะธัะพะฒ**
   ```bash
   mvn clean install
   ```
   
   ะะปะธ ะธัะฟะพะปัะทัะตะนัะต ะฒะบะปะฐะดะบั maven ะฒ IntellijIDEA (ะบะฝะพะฟะบะธ clean ะธ install ะฒะพ ะฒะบะปะฐะดะบะต arch-app):
   
   ![img.png](img/img.png)

3. **ะกะพะฑะตัะธัะต ะบะพะฝัะตะนะฝะตัั ัะตัะฒะธัะพะฒ**
   ```bash
   cd dockercompose
   docker-compose build
   ```

4. **ะะฐะฟัััะธัะต ะบะพะฝัะตะนะฝะตัั**
   ```bash
   cd dockercompose
   docker-compose up -d
   ```

**ะะพัะปะต ะทะฐะฟััะบะฐ user-service API ะดะพัััะฟะฝะพ ะฟะพ:** `http://localhost:8080`  
**Swagger UI:** `http://localhost:8080/swagger-ui.html`  
**ะะพะบัะผะตะฝัะฐัะธั OpenAPI:** `http://localhost:8080/api-docs`  

**ะะพัะปะต ะฒะฝะตัะตะฝะธั ะธะทะผะตะฝะตะธะน ะฒ ะบะพะด ะฒัะฟะพะปะฝะธัะต ะบะพะผะฐะฝะดั `docker compose down` ะธ ะฟะพะฒัะพัะธัะต ัะฐะณะธ 2-4**

---

## **ะกัััะบัััะฐ ะฟัะพะตะบัะฐ**

```
๐ ะฟะฐะฟะบะฐ, ะฒ ะบะพัะพัะพะน ะปะตะถะธั ะฟัะพะตะบั
โโโ ๐ user-service/              # ัะตัะฒะธั ะดะปั ัะฐะฑะพัั ั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
โ   โโโ ๐ src/main/java/com/misis/archapp/user/ # ะธััะพะดะฝัะน ะบะพะด ัะตัะฒะธัะฐ
โ   โโโ ๐ resources/             # ัะตััััั, ะบะพะฝัะธะณ. ัะฐะนะปั
โ   โโโ Dockerfile
โ   โโโ pom.xml                    # ัะฐะนะป ะดะปั ะผะตะฝะตะดะถะผะตะฝัะฐ ะทะฐะฒะธัะธะผะพััะตะน ัะตัะฒะธัะฐ
โ
โโโ ๐ notification-service/       # ัะตัะฒะธั ะพัะฟัะฐะฒะบะธ ัะฒะตะดะพะผะปะตะฝะธะน
โ   โโโ ๐ src/main/java/com/misis/archapp/notification/  # ะธััะพะดะฝัะน ะบะพะด ัะตัะฒะธัะฐ
โ   โโโ ๐ resources/              # ัะตััััั, ะบะพะฝัะธะณ. ัะฐะนะปั
โ   โโโ Dockerfile
โ   โโโ pom.xml                    # ัะฐะนะป ะดะปั ะผะตะฝะตะดะถะผะตะฝัะฐ ะทะฐะฒะธัะธะผะพััะตะน ัะตัะฒะธัะฐ
โ
โโโ ๐ shared-contract/            # ะพะฑัะธะต ะบะพะฝััะฐะบัั (ัะพะฑััะธั, DTO)
โ   โโโ ๐ src/main/java/com/misis/archapp/contract/
โ   โโโ ๐ resources/
โ   โโโ pom.xml
โ
โโโ pom.xml                        # ัะพะดะธัะตะปััะบะธะน ัะฐะนะป ั ะทะฐะฒะธัะธะผะพัััะผะธ
```

### ะกัััะบัััะฐ ะผะพะดัะปั User Service

```
๐ user-service/src/main/java/com/misis/archapp/user
โโโ ๐ configuration
โ   โโโ RedisConfiguration.java          # ะะพะฝัะธะณััะฐัะธั Redis-ะบะปะธะตะฝัะฐ
โ
โโโ ๐ controller
โ   โโโ UserRestApiController.java       # REST API ะดะปั ัะฐะฑะพัั ั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
โ
โโโ ๐ db
โ   โโโ User.java                        # JPA-ัััะฝะพััั ะฟะพะปัะทะพะฒะฐัะตะปั
โ   โโโ UserRepository.java              # ะะตะฟะพะทะธัะพัะธะน Spring Data JPA
โ
โโโ ๐ dto
โ   โโโ UserCreateDTO.java               # DTO ะดะปั ัะพะทะดะฐะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั
โ   โโโ UserUpdateDTO.java               # DTO ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปั
โ   โโโ UserDTO.java                     # DTO ะดะปั ะฒะพะทะฒัะฐัะฐ ะฟะพะปัะทะพะฒะฐัะตะปั
โ   โโโ ๐ mapper
โ       โโโ UserMapper.java              # MapStruct-ะผะฐะฟะฟะตั User <-> DTO
โ
โโโ ๐ service
โ   โโโ UserService.java                 # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ ๐ cache
โ   โ   โโโ UserCacheService.java        # ะัะดะตะปัะฝัะน ัะปะพะน ะบััะธัะพะฒะฐะฝะธั
โ   โโโ package-info.java
โ
โโโ UserServiceApplication.java          # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ ๐ resources
โ   โโโ application.properties           # ะะพะฝัะธะณััะฐัะธั ะฟัะธะปะพะถะตะฝะธั
โ   โโโ ๐ db.migration                  # Flyway ะผะธะณัะฐัะธะธ
```

### ะกัััะบัััะฐ ะผะพะดัะปั Notification Service

```
๐ notification-service/src/main/java/com/misis/archapp/notification
โโโ ๐ service
โ   โโโ NotificationService.java            # ะะพะณะธะบะฐ ะพัะฟัะฐะฒะบะธ ัะฒะตะดะพะผะปะตะฝะธะน
โ   โโโ package-info.java
โโโ NotificationServiceApplication.java     # ะขะพัะบะฐ ะฒัะพะดะฐ
```
---
